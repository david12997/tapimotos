"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[241],{8241:(e,r,t)=>{t.r(r),t.d(r,{default:()=>v});var a,n=t(7294),s=t(6338),l=t(7379),i=t(4822),o=t(2814),c=t(1436),d=t(9851),p=t(5893);function u(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var a,n,s=[],l=!0,i=!1;try{for(t=t.call(e);!(l=(a=t.next()).done)&&(s.push(a.value),!r||s.length!==r);l=!0);}catch(e){i=!0,n=e}finally{try{l||null==t.return||t.return()}finally{if(i)throw n}}return s}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return m(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return m(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}var x,h,j=l.ZP.div(a||(x=["\n\n    width:100%;\n\n    .btn-salir{\n\n       position:absolute;\n       margin-right:80%;\n       color:gray;\n       cursor:pointer;\n       display:flex;\n       justify-content:center;\n       align-items:center;\n\n    }\n\n    .card-comprar{\n\n        width:90%;\n        box-shadow:0px 0px 8px rgba(0,0,0,0.25);\n        font-size:17px;\n        margin:15px;\n        margin-bottom:25px;\n    }\n\n    input{\n\n        width:80%;\n        border:0px;\n        border-radius:4px;\n        box-shadow:0px 0px 4px rgba(0,0,0,0.3);\n        margin:5px;\n    }\n\n\n    .list-group-item{\n        border:1px solid rgba(0,0,0,0.05);\n        border-top:0px;\n    }\n\n    @media(min-width:800px){\n\n        .card-comprar{\n\n            width:40%;\n        }\n\n        input{\n\n            width:70%\n        }\n\n    }\n\n\n\n\n"],h||(h=x.slice(0)),a=Object.freeze(Object.defineProperties(x,{raw:{value:Object.freeze(h)}}))));const b=function(e){var r=e.data_pay,t=(e.type_pay,u((0,n.useState)(1),2)),a=t[0],s=t[1],l=u((0,n.useState)(!1),2),m=l[0],x=l[1];(0,n.useEffect)((function(){$("html, body").animate({scrollTop:$("#scrollhere").offset().top},1e3),s(1);var e=new FormData;return e.append("auth_pay","5719326"),(0,i.Vh)().Products.Pay(i.qp+"pagos/auth",e).then((function(e){console.log(e)})),function(){var e=new FormData;e.append("auth_pay","5719326"),(0,i.Vh)().Products.Pay(i.qp+"pagos/auth/delete",e).then((function(e){console.log(e)}))}}),[s]);var h=[],b=0;null!==r&&r.map((function(e,r){return h.push({product:e.product_data.name,image:e.product_data.img,cantidad:e.cuantity,price:e.product_data.price,subtotal:parseInt(e.cuantity)*parseInt(e.product_data.price)})})),null!==r&&h.map((function(e,r){return b+=e.subtotal}));return console.log(r),console.log(h),(0,p.jsxs)(j,{children:[(0,p.jsxs)("div",{id:"scrollhere",className:"d-flex justify-content-center align-items-center p-2 text-gray position-relative",children:[(0,p.jsxs)("small",{onClick:function(){window.location.href=i.qp+"productos"},className:"btn-salir",children:[(0,p.jsx)(o.G,{style:{fontSize:"18px"},icon:c.EyR}),(0,p.jsx)("b",{className:"d-flex justify-content-center",style:{width:"30px"},children:"Salir"})]}),(0,p.jsx)("b",{style:{fontSize:"18px"},children:"Realizar compra"})]}),(0,p.jsx)("hr",{style:{width:"90%",marginLeft:"5%"}}),(0,p.jsx)("br",{}),(0,p.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:!0===m?(0,p.jsx)(d.Z,{}):(0,p.jsxs)("form",{onSubmit:function(e){!function(e){e.preventDefault();var r={nombre:$(".data-payer")[0].value,ciudad:$(".data-payer")[1].value,direccion:$(".data-payer")[2].value,celular:$(".data-payer")[3].value,correo:$(".data-payer")[4].value,total_pay:b},t=new FormData;t.append("pay_tapimotos",JSON.stringify(r)),t.append("data_products",JSON.stringify(h)),(0,i.Vh)().Products.Pay(i.qp+"pagos/crear-pago",t).then((function(e){console.log(e),new MercadoPago("APP_USR-a98b17ae-47a6-4a35-b92d-01919002b97e").checkout({preference:{id:e.preference_id},render:{container:".cho-container",label:"Pagar la compra"},autoOpen:!0}),x(!1),s(2),localStorage.setItem("data_preference",JSON.stringify(e))}))}(e),x(!0),window.scrollTo(0,130)},style:{width:"100%"},className:"d-flex justify-content-center  flex-wrap form",children:[(0,p.jsxs)("div",{className:1===a?"card card-comprar activo":"card card-comprar d-none",children:[(0,p.jsx)("div",{style:{background:"rgb(0, 150, 210)",color:"white"},className:"card-header",children:(0,p.jsx)("b",{children:"1. Resumen de tu compra"})}),(0,p.jsxs)("ul",{className:"list-group list-group-flush ",children:[(0,p.jsxs)("li",{className:"list-group-item",children:[(0,p.jsx)("label",{children:(0,p.jsx)("b",{children:"Metodo de pago: "})}),(0,p.jsx)("b",{style:{color:"rgb(0, 150, 210)"},children:" Mercadopago "}),(0,p.jsx)("br",{}),(0,p.jsx)("small",{style:{color:"gray"},children:(0,p.jsx)("p",{children:"*Emitimos factura y garantia de tu compra"})})]}),(0,p.jsxs)("li",{style:{height:"280px",overflowY:"scroll"},className:"list-group-item",children:[(0,p.jsx)("label",{children:(0,p.jsx)("b",{children:"Productos:"})}),h.map((function(e,r){return(0,p.jsxs)("div",{style:{color:"gray"},children:[(0,p.jsxs)("div",{children:["Nombre: ",e.product]}),(0,p.jsx)("img",{style:{width:"40px"},src:e.image}),(0,p.jsxs)("div",{children:["Cantidad: ",e.cantidad]}),(0,p.jsxs)("div",{children:["Precio*unidad :  $ ",(new Intl.NumberFormat).format(Math.ceil(parseInt(e.price)))," COP"]}),(0,p.jsx)("hr",{})]},r)}))]}),(0,p.jsxs)("li",{style:{fontSize:"18px"},className:"list-group-item",children:[(0,p.jsx)("b",{children:"Envío :"}),(0,p.jsxs)("b",{style:{color:"green"},children:["  $ ",(new Intl.NumberFormat).format(Math.ceil(parseInt(35e3)))," COP"]})]}),(0,p.jsxs)("li",{style:{fontSize:"18px"},className:"list-group-item",children:[(0,p.jsx)("b",{children:"Productos :"}),(0,p.jsxs)("b",{style:{color:"green"},children:["  $ ",(new Intl.NumberFormat).format(Math.ceil(parseInt(b)))," COP"]})]}),(0,p.jsxs)("li",{style:{fontSize:"18px"},className:"list-group-item",children:[(0,p.jsx)("b",{children:"Total a pagar :"}),(0,p.jsxs)("b",{style:{color:"green"},children:["  $ ",(new Intl.NumberFormat).format(Math.ceil(parseInt(b+35e3)))," COP"]})]}),(0,p.jsx)("li",{className:"list-group-item",children:(0,p.jsx)("button",{onClick:function(){s(2),$("html, body").animate({scrollTop:$("#scrollhere").offset().top},1e3)},style:{width:"100%",fontSize:"20px",boxShadow:"3px 3px 8px rgba(0,0,0,0.3)"},className:"btn btn-primary text-white",children:(0,p.jsx)("b",{children:"Siguiente"})})})]})]}),(0,p.jsxs)("div",{className:1===a?"card card-comprar d-none":"card card-comprar activo",children:[(0,p.jsx)("div",{style:{background:"rgb(0, 150, 210)",color:"white"},className:"card-header",children:(0,p.jsx)("b",{children:" 2. Datos del comprador"})}),(0,p.jsxs)("ul",{className:"list-group list-group-flush",children:[(0,p.jsx)("div",{onClick:function(){s(1),$("html, body").animate({scrollTop:$("#scrollhere").offset().top},1e3)},style:{color:"gray",cursor:"pointer"},className:"list-group-item",children:(0,p.jsxs)("b",{className:"d-flex justify-content-start align-items-center",children:[(0,p.jsx)(o.G,{style:{fontSize:"20px"},icon:c.EyR}),(0,p.jsx)("small",{style:{marginLeft:"5px"},children:"Resumen de tu compra"})]})}),(0,p.jsxs)("div",{className:"list-group-item",children:[(0,p.jsxs)("label",{children:[(0,p.jsx)("b",{children:"Nombre completo:"})," "]}),(0,p.jsx)("br",{}),(0,p.jsx)("input",{className:"data-payer",required:!0,type:"text",placeholder:"Ej: Juan Diaz"}),(0,p.jsx)("br",{})]}),(0,p.jsxs)("div",{className:"list-group-item",children:[(0,p.jsxs)("label",{children:[(0,p.jsx)("b",{children:"Ciudad/Municipio:"})," "]}),(0,p.jsx)("br",{}),(0,p.jsx)("input",{className:"data-payer",required:!0,type:"text",placeholder:"Ej: Bogota Cundinamarca"}),(0,p.jsx)("br",{})]}),(0,p.jsxs)("li",{className:"list-group-item",children:[(0,p.jsxs)("label",{children:[(0,p.jsx)("b",{children:"Direccion exacta:"})," "]}),(0,p.jsx)("br",{}),(0,p.jsx)("input",{className:"data-payer",required:!0,type:"text",placeholder:"Ej: Cra 10a # 123"}),(0,p.jsx)("br",{})]}),(0,p.jsxs)("li",{className:"list-group-item",children:[(0,p.jsxs)("label",{children:[(0,p.jsx)("b",{children:" N° Celular :"})," "]}),(0,p.jsx)("br",{}),(0,p.jsx)("input",{className:"data-payer",required:!0,type:"number",placeholder:"Ej: 310123456"}),(0,p.jsx)("br",{})]}),(0,p.jsxs)("li",{className:"list-group-item",children:[(0,p.jsxs)("label",{children:[(0,p.jsx)("b",{children:"Correo electronico:"})," "]}),(0,p.jsx)("br",{}),(0,p.jsx)("input",{className:"data-payer",required:!0,type:"email",placeholder:"Ej: email@email.com"}),(0,p.jsx)("br",{})]}),(0,p.jsxs)("li",{className:"list-group-item",children:[(0,p.jsx)("button",{type:"submit",style:{width:"100%",fontSize:"20px",boxShadow:"3px 3px 8px rgba(0,0,0,0.3)"},className:"btn btn-primary text-white",children:(0,p.jsx)("b",{children:"Pagar"})}),(0,p.jsx)("div",{className:"cho-container"})]})]})]})]})})]})};var f=t(5617),y=t(957),g=t(6974);const v=function(){var e=(0,f.I0)(),r=(0,g.s0)(),t=(0,f.v9)((function(e){return e.comprar.productos})),a=(0,f.v9)((function(e){return e.comprar.type}));return(0,n.useEffect)((function(){null===t&&r("/productos"),document.title="Pagar";for(var a=document.getElementsByClassName("link"),n=0;n<a.length;n++)a[n].classList.remove("link-activo");var s=JSON.parse(localStorage.getItem("products_carrito"));null!==s&&(e((0,y.rh)(s)),e((0,y.kt)(s.length)))}),[]),(0,p.jsxs)("div",{children:[(0,p.jsx)("br",{}),(0,p.jsx)("br",{}),(0,p.jsx)(b,{data_pay:t,type_pay:a}),(0,p.jsx)("br",{}),(0,p.jsx)("br",{}),(0,p.jsx)(s.Z,{})]})}}}]);